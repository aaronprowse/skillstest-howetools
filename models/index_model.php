<?phpclass Index_model extends Model{    public function __construct() {        parent::__construct();    }    public function run($controller)    {        $login = $_POST['login'];        $password = $_POST['password'];        $prepareDB = $this->prepareDB->prepare("SELECT id FROM userstb WHERE username = :login  AND password = MD5(:password)");        $prepareDB->execute(array(':login' => $login, ':password' => $password));        $data = $prepareDB->fetch();//        debugging code to return the record from db//        var_dump($data);//        return;        $count = $prepareDB->rowCount();        if ($count > 0) {            //login            Session::init();            Session::set('loggedIn', $data['id']);            header('location: ../my_account');        } else {            $controller->view->loginmsg = "Username/Password does not exist";            $controller->view->render("index/index");        }    }    // functionality for registration script if required.//    public function register($controller) {//        $username = $_POST['username'];//        $password = $_POST['password'];//        $password2 = $_POST['password2'];//        $email = $_POST['email'];////        if (strpos($username, " ")) {//            $this->errorCode = 2;//        }////        if ($password !== $password2) {//            $this->errorCode = 1;//        }////        $prepareDB = $this->prepareDB->prepare("INSERT INTO userstb (username, password, email) VALUES(:username, MD5(:password), :email)");////        if ($this->errorCode == 0) {//            $has_executed = $prepareDB->execute(array(':username' => $username, ':password' => $password, ':email' => $email));////            if ($has_executed) {//                header("location: /index");////                header("location: ../registration");//            }////        } else {////        Debug Code////        var_dump($has_executed);////            if ($this->errorCode == 0) {//                $this->errorCode = $prepareDB->errorCode();//                $fieldString = explode("'", $prepareDB->errorInfo()[2])[3];//                $this->errorCode += ord($fieldString);//            }////            //Debug//            //var_dump($this->errorCode);//            //return;////            if (array_key_exists($this->errorCode, $this->errorMessages)) {//                $controller->view->registermsg = $this->errorMessages[$this->errorCode];//            } else {//                $controller->view->registermsg = "Unknown Error: Please contact the system administrator";//            }//            $controller->view->render("index/index");//        }//    }}